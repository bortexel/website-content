# Внесение правок в тексты страниц
Хотите помочь с написанием новых текстов или просто исправить неточности? Я всегда буду рад любой помощи в этом плане. В этом файле описано, как работает раздел "Информация" на сайте и как внести изменения в тексты.

Любые изменения в этом репозитории производятся посредством Pull Request'ов, встроенных в GitHub. Соответственно, чтобы внести какие-либо правки, нужно сделать fork репозитория, внести правки в него, а потом предложить изменения из этого репозитория, создав Pull Request.

## Принцип работы
Сайт знает, что все данные страниц располагаются на `cdn.bortexel.net`. Там просто продублированы файлы из этого репозитория. Важно понимать, что данные страниц делятся на два типа:

1. **Метаданные в формате JSON.** Это простые файлы с расширением `.json`, в которых указан заголовок страницы, её описание, а также *ссылка* на содержимое. Эти файлы запрашиваются сайтом в первую очередь, а их названия фактически являются идентификаторами страниц. Например, когда вы открываете страницу `https://bortexel.net/wiki/example`, сайт пытается получить файл `https://cdn.bortexel.net/pages/example.json`, и отталкивается уже от содержимого этого файла. В репозитории эти файлы располагаются в папке `pages`. Если вы не хотите создать новую страницу, удалить существующую или изменить название/описание, эти файлы вовсе не должны быть затронуты.

2. **Тексты.** Сейчас поддерживаются только тексты в формате Markdown, поэтому хранятся все они в файлах с расширением `.md`, которые в свою очередь хранятся в папке `content`. Именно на эти файлы указывают ссылки в JSON описании страницы, и именно в этих сайтах хранятся сами тексты, отображаемые на сайте.

### JSON описание страницы
Любой файл в папке `pages` должен соответствовать синтаксису JSON и иметь следующий формат:

```JSON
{
    "title": "Example page",
    "description": "Just an example page",
    "content": [
        {
            "provider": "repository",
            "type": "markdown",
            "path": "example"
        }
    ]
}
```

Рассмотрим этот пример подробнее, в нём продемонстрированы все параметры, поддерживаемые в данный момент. В полях `title` и `description` содержатся строки - заголовок и описание страницы, используемые в поисковых системах. Описание может быть использовано, например, в Discord, когда он отображает подробную информацию о ссылке.

С полем `content` всё чуть сложнее. В нём содержится массив объектов, описывающих части страницы. Да, на одной странице может использоваться несколько текстов из разных файлов. В каждом объекте, описывающем часть страницы, есть по три поля: `provider` (место, из которого будут браться страницы), `type` (формат содержимого текста) и `path` (путь к файлу с текстом). Первые два были добавлены с расчётом на то, что в будущем будут поддерживаться другие источники и типы текстов, а сейчас они просто игнорируются сайтом. Учитывается лишь `path`. В нём должен быть указан путь к содержимому текста относительно папки `content`. Т.е. в приведённом примере полный путь к файлу с текстом будет выглядеть так: `https://cdn.bortexel.net/content/example.md`.

### Текст страницы
Все тексты страниц сейчас пишутся в формате Markdown. При этом используется именно чистый Markdown без какого-либо дополнительного оформления.

Если вы вдруг незнакомы с этим форматом, то... Ну, возможно, вам будет ближе разметка текста в Discord, которая является упрощённым вариантом Markdown. Какую-нибудь шпаргалку по синтаксису найти несложно. Если лень искать, то можете использовать [эту](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet).